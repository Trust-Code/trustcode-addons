<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <report
        id="royalties_report.action_royalties_report"
        model="account.voucher"
        report_type="qweb-pdf"
        string="Relatório de Royalties"
        name="royalties_report.main_template_royalties_report"
        file="royalties_report.main_template_royalties_report" />

    <!-- <template id="royalties_report_assets_backend" name="Royalties assets" inherit_id="report.assets_common">
        <xpath expr="." position="inside">
            <link rel="stylesheet" type="text/css" href="/royalties_report/static/css/royalties_report.css"/>
        </xpath>
    </template>

    <template id="royalties_report_document">
        <t t-set="o" t-value="o.with_context({'lang':o.partner_id.lang})"/>
        <div class="header royalties_report">
            <table class="table infoTable border-div">
                <thead>
                    <tr>
                        <th colspan="4"><h2>Parceiro:
                            <span t-esc="o.partner_id.display_name"/></h2>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Data da Fatura:</td>
                        <td><span t-field="o.date"/></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="page royalties_report">
            <br/>
            <div class="row">
                <div class="col-xs-12">
                    <table class="table productsTable table-bordered border-div">
                        <thead>
                            <tr>
                                <th>Produto</th>
                                <th>Descrição</th>
                                <th>Quantidade</th>
                                <th>Comissão</th>
                            </tr>
                        </thead>
                        <tbody >
                        <t t-set="last_partner" t-value="None" />
                        <t t-foreach="o.line_ids" t-as="l">
                            <tr>
                                <td colspan="5">
                                    <span t-field="l.inv_line_id.partner_id.name"/></td>
                            </tr>
                            <tr>
                                <td><span t-esc="l.product_id.name"/></td>
                                <td><span t-esc="l.product_id.description or 'Royalties'"/></td>
                                <td><span t-esc="l.inv_line_id.quantity"></span></td>
                                 <td><span t-esc="cids.commission"></span></td> 
                            </tr>
                        </t>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </template> -->

    <template id="main_template_royalties_report">
        <t t-call="report.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="royalties_report.royalties_report_document" t-lang="o.partner_id.lang"/>
            </t>
        </t>
    </template>
</odoo>
